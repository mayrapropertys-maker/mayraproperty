<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Villas in Ahmedabad | Mayra Property Solutions</title>
    <meta name="description" content="Browse luxury villa listings in Ahmedabad. Find premium villas with modern amenities and transparent pricing.">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="navbar" role="banner">
        <a href="index.html" class="logo" aria-label="Mayra Property Solutions">
           <img src="img/mayralogo.jpg" alt="Mayra logo">
            <span>Mayra Property Solutions</span>
        </a>

        <nav role="navigation" aria-label="Main navigation">
            <ul class="nav-links">
                <li class="dropdown">
                    <button class="nav-toggle" aria-expanded="false">For Buyers ▾</button>
                    <div class="mega-menu" aria-hidden="true">
                        <div class="mega-column">
                             <h4>Property type</h4>
                            <a href="flat.html">Flats</a>
                            <a href="Houses.html">Houses</a>
                            <a href="builder-floors.html">Builder floors</a>
                            <a href="plots.html">Plots</a>
                            <a href="villas.html">Villas</a>
                            <a href="commercial.html">Commercial properties</a>
                        </div>
                        <div class="mega-column">
                            <h4>Popular areas</h4>
                            <a href="#">Nikol</a>
                            <a href="#">Chandkheda</a>
                            <a href="#">Shela</a>
                            <a href="#">Khanpur</a>
                            <a href="#">Ellisbridge</a>
                            <a href="#">Raikhad</a>
                        </div>
                        <div class="mega-column">
                            <h4>Search by BHK</h4>
                            <a href="#">3 BHK Villas</a>
                            <a href="#">4 BHK Villas</a>
                            <a href="#">5+ BHK Villas</a>
                        </div>
                        <div class="mega-column">
                            <h4>Popular searches</h4>
                            <a href="#">Luxury villas</a>
                            <a href="#">Gated community villas</a>
                            <a href="#">Villas with pool</a>
                            <a href="#">Ready to move-in villas</a>
                            <a href="#">Premium villas</a>
                        </div>
                    </div>
                </li>

                <li class="dropdown">
                    <button class="nav-toggle" aria-expanded="false">For Tenants ▾</button>
                    <div class="mega-menu" aria-hidden="true">
                        <div class="mega-column">
                            <h4>Property type</h4>
                            <a href="#">Flats</a>
                            <a href="#">Houses</a>
                            <a href="#">Builder floors</a>
                            <a href="#">Plots</a>
                            <a href="#">Villas</a>
                            <a href="#">Commercial properties</a>
                        </div>
                        <div class="mega-column">
                            <h4>Popular areas</h4>
                            <a href="#">Nikol</a>
                            <a href="#">Chandkheda</a>
                            <a href="#">Shela</a>
                            <a href="#">Khanpur</a>
                            <a href="#">Ellisbridge</a>
                            <a href="#">Raikhad</a>
                        </div>
                    </div>
                </li>

                <li class="dropdown">
                    <button class="nav-toggle" aria-expanded="false">Services ▾</button>
                    <div class="mega-menu" aria-hidden="true">
                        <div class="mega-column">
                            <a href="#">Home loans</a>
                            <a href="#">Legal advice</a>
                            <a href="#">Property valuation</a>
                            <a href="#">Broker connections</a>
                        </div>
                    </div>
                </li>

                <li><a href="index.html#post" class="nav-link">Post Property</a></li>
               <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
        </nav>

        <div class="header-actions">
            <a href="post-property.html" class="btn btn-primary">Post Property</a>
        </div>
    </header>

    <main>
        <!-- Page heading -->
        <section class="page-header">
            <div class="container">
                <h1>Villas in Ahmedabad</h1>
                <p>Browse luxury villa listings — 3 BHK, 4 BHK, 5+ BHK premium villas</p>
            </div>
        </section>

        <!-- Search & Filter -->
        <section class="search-section">
            <div class="container">
                <div class="search-box">
                    <input id="search-input" type="text" placeholder="Search by location, amenities, or price...">
                    <button id="search-btn" class="btn btn-primary">Search</button>
                </div>

                <div class="filter-group">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="3bhk">3 BHK</button>
                    <button class="filter-btn" data-filter="4bhk">4 BHK</button>
                    <button class="filter-btn" data-filter="5bhk">5+ BHK</button>
                </div>
            </div>
        </section>

        <!-- Villas Grid -->
        <section class="section">
            <div class="container">
                <div class="property-grid">

                    <!-- 3 BHK Villas -->
                    <div class="property-card" data-bhk="3bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,luxury" alt="3 BHK Villa in Nikol">
                        <h3>3 BHK Luxury Villa</h3>
                        <p class="location">Nikol, Ahmedabad</p>
                        <p class="price">₹1,25,00,000</p>
                        <p class="details">2500 sq.ft | Pool | Garden</p>
                        <a href="property.html?id=villa1" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-bhk="3bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,modern" alt="3 BHK Modern Villa in Chandkheda">
                        <h3>3 BHK Modern Villa</h3>
                        <p class="location">Chandkheda, Ahmedabad</p>
                        <p class="price">₹1,15,00,000</p>
                        <p class="details">2400 sq.ft | Ready to Move</p>
                        <a href="property.html?id=villa2" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-bhk="3bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,elegant" alt="3 BHK Villa in Gota">
                        <h3>3 BHK Elegant Villa</h3>
                        <p class="location">Gota, Ahmedabad</p>
                        <p class="price">₹1,08,00,000</p>
                        <p class="details">2300 sq.ft | Gated Community</p>
                        <a href="property.html?id=villa3" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <!-- 4 BHK Villas -->
                    <div class="property-card" data-bhk="4bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,premium" alt="4 BHK Premium Villa in South Bopal">
                        <h3>4 BHK Premium Villa</h3>
                        <p class="location">South Bopal, Ahmedabad</p>
                        <p class="price">₹1,75,00,000</p>
                        <p class="details">3500 sq.ft | Pool | Home Theatre</p>
                        <a href="property.html?id=villa4" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-bhk="4bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,spacious" alt="4 BHK Spacious Villa in Shela">
                        <h3>4 BHK Spacious Villa</h3>
                        <p class="location">Shela, Ahmedabad</p>
                        <p class="price">₹1,65,00,000</p>
                        <p class="details">3300 sq.ft | Ready to Move</p>
                        <a href="property.html?id=villa5" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-bhk="4bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,mansion" alt="4 BHK Mansion Villa in Ellisbridge">
                        <h3>4 BHK Mansion Villa</h3>
                        <p class="location">Ellisbridge, Ahmedabad</p>
                        <p class="price">₹1,95,00,000</p>
                        <p class="details">3800 sq.ft | Ready to Move</p>
                        <a href="property.html?id=villa6" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <!-- 5+ BHK Villas -->
                    <div class="property-card" data-bhk="5bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,penthouse" alt="5+ BHK Luxury Villa in South Bopal">
                        <h3>5 BHK Luxury Villa</h3>
                        <p class="location">South Bopal, Ahmedabad</p>
                        <p class="price">₹2,75,00,000</p>
                        <p class="details">5000 sq.ft | Pool | Garden | Gym</p>
                        <a href="property.html?id=villa7" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-bhk="5bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,palatial" alt="5+ BHK Palatial Villa in Nikol">
                        <h3>5 BHK Palatial Villa</h3>
                        <p class="location">Nikol, Ahmedabad</p>
                        <p class="price">₹3,25,00,000</p>
                        <p class="details">5500 sq.ft | Ready to Move</p>
                        <a href="property.html?id=villa8" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-bhk="5bhk">
                        <img src="https://source.unsplash.com/800x600/?villa,estate" alt="5+ BHK Estate Villa in Gota">
                        <h3>5 BHK Estate Villa</h3>
                        <p class="location">Gota, Ahmedabad</p>
                        <p class="price">₹2,85,00,000</p>
                        <p class="details">5200 sq.ft | Gated Community</p>
                        <a href="property.html?id=villa9" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                </div>
                <p id="no-results" style="display:none; text-align:center; color:var(--muted); margin-top:12px;">No villas matched your search or filter.</p>
            </div>
        </section>

        <!-- Why Choose Us -->
        <section class="section grey">
            <div class="container">
                <h2 class="section-title">Why Choose Our Villas?</h2>
                <div class="why-grid">
                    <div class="why-box">
                        <h3>Luxury Living</h3>
                        <p>Premium villas with world-class amenities and finishes.</p>
                    </div>
                    <div class="why-box">
                        <h3>Prime Locations</h3>
                        <p>Villas in the most sought-after and secure neighborhoods.</p>
                    </div>
                    <div class="why-box">
                        <h3>Modern Amenities</h3>
                        <p>Smart homes, pools, gardens, gyms, and recreational spaces.</p>
                    </div>
                    <div class="why-box">
                        <h3>Investment Value</h3>
                        <p>Villas that appreciate over time with strong investment potential.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <small>&copy; <span id="year"></span> Mayra Property Solutions. All rights reserved.</small>
    </footer>

    <script>
    // Set footer year
    (function(){
        var el = document.getElementById('year');
        if(el) el.textContent = new Date().getFullYear();
    })();

    // Mega menu toggles
    (function(){
        var toggles = document.querySelectorAll('.nav-toggle');
        toggles.forEach(function(btn){
            btn.addEventListener('click', function(e){
                var menu = btn.nextElementSibling;
                var expanded = btn.getAttribute('aria-expanded') === 'true';
                btn.setAttribute('aria-expanded', String(!expanded));
                if(menu){
                    var hidden = menu.getAttribute('aria-hidden') === 'true';
                    menu.setAttribute('aria-hidden', String(!hidden));
                    if (window.innerWidth <= 900) {
                        menu.style.display = hidden ? 'flex' : 'none';
                        menu.style.opacity = hidden ? '1' : '0';
                    }
                }
            });
        });
    })();

    // Search & filter functionality for flats
    (function(){
        var input = document.getElementById('search-input');
        var btn = document.getElementById('search-btn');
        var filterBtns = document.querySelectorAll('.filter-btn');
        var cards = Array.from(document.querySelectorAll('.property-card'));
        var noResults = document.getElementById('no-results');
        var currentFilter = 'all';

        function normalize(s){ return String(s||'').toLowerCase().trim(); }

        function runSearchAndFilter(){
            var q = normalize(input.value);
            var matched = 0;

            cards.forEach(function(c){
                var bhk = c.getAttribute('data-bhk');
                var title = normalize(c.querySelector('h3') && c.querySelector('h3').textContent);
                var location = normalize(c.querySelector('.location') && c.querySelector('.location').textContent);
                var price = normalize(c.querySelector('.price') && c.querySelector('.price').textContent);
                var details = normalize(c.querySelector('.details') && c.querySelector('.details').textContent);

                var matchFilter = (currentFilter === 'all') || (bhk === currentFilter);
                var matchSearch = !q || (title.indexOf(q) !== -1 || location.indexOf(q) !== -1 || price.indexOf(q) !== -1 || details.indexOf(q) !== -1);

                if(matchFilter && matchSearch){
                    c.style.display = '';
                    matched++;
                } else {
                    c.style.display = 'none';
                }
            });

            if(noResults) noResults.style.display = (matched === 0) ? 'block' : 'none';
        }

        // Filter buttons
        filterBtns.forEach(function(btn){
            btn.addEventListener('click', function(e){
                e.preventDefault();
                filterBtns.forEach(function(b){ b.classList.remove('active'); });
                btn.classList.add('active');
                currentFilter = btn.getAttribute('data-filter');
                runSearchAndFilter();
            });
        });

        // Search button and Enter key
        if(btn) btn.addEventListener('click', runSearchAndFilter);
        if(input) input.addEventListener('keydown', function(e){
            if(e.key === 'Enter') { e.preventDefault(); runSearchAndFilter(); }
        });
    })();

    /* ⭐⭐⭐ REPLACED FETCH CODE — YOUR FINAL ONE ⭐⭐⭐ */

    fetch("fetch-all-properties.php")
      .then(res => res.json())
      .then(data => {
        let html = "";
        data.forEach(p => {
          if(p.property_type === "villa"){   // Change this to flat/villa/plot per page
              html += `
                <div class="property-card">
                    <img src="${p.image}">
                    <h3>${p.title}</h3>
                    <p class="location">${p.location}</p>
                    <p class="price">${p.price}</p>
                    <p class="details">${p.area} sq.ft | ${p.bhk}</p>
                    <a href="property.html?id=${p.id}" class="btn btn-outline small">View Details</a>
                </div>`;
          }
        });

        document.querySelector(".property-grid").innerHTML = html;
      });

</script>


</body>
</html>
