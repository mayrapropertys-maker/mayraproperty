<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Plots in Ahmedabad | Mayra Property Solutions</title>
    <meta name="description" content="Browse verified plot listings in Ahmedabad. Find residential and commercial plots with transparent pricing.">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="navbar" role="banner">
        <a href="index.html" class="logo" aria-label="Mayra Property Solutions">
            <img src="img/mayralogo.jpg" alt="Mayra logo">
            <span>Mayra Property Solutions</span>
        </a>

        <nav role="navigation" aria-label="Main navigation">
            <ul class="nav-links">
                <li class="dropdown">
                    <button class="nav-toggle" aria-expanded="false">For Buyers ▾</button>
                    <div class="mega-menu" aria-hidden="true">
                        <div class="mega-column">
                           <h4>Property type</h4>
                            <a href="flat.html">Flats</a>
                            <a href="Houses.html">Houses</a>
                            <a href="builder-floors.html">Builder floors</a>
                            <a href="plots.html">Plots</a>
                            <a href="villas.html">Villas</a>
                            <a href="commercial.html">Commercial properties</a>
                        </div>
                        <div class="mega-column">
                            <h4>Popular areas</h4>
                            <a href="#">Nikol</a>
                            <a href="#">Chandkheda</a>
                            <a href="#">Shela</a>
                            <a href="#">Khanpur</a>
                            <a href="#">Ellisbridge</a>
                            <a href="#">Raikhad</a>
                        </div>
                        <div class="mega-column">
                            <h4>Search by size</h4>
                            <a href="#">100-500 sq.ft</a>
                            <a href="#">500-1000 sq.ft</a>
                            <a href="#">1000+ sq.ft</a>
                        </div>
                        <div class="mega-column">
                            <h4>Popular searches</h4>
                            <a href="#">Residential plots</a>
                            <a href="#">Commercial plots</a>
                            <a href="#">Affordable plots</a>
                            <a href="#">Gated community plots</a>
                            <a href="#">Corner plots</a>
                        </div>
                    </div>
                </li>

                <li class="dropdown">
                    <button class="nav-toggle" aria-expanded="false">For Tenants ▾</button>
                    <div class="mega-menu" aria-hidden="true">
                        <div class="mega-column">
                            <h4>Property type</h4>
                            <a href="#">Flats</a>
                            <a href="#">Houses</a>
                            <a href="#">Builder floors</a>
                            <a href="#">Plots</a>
                            <a href="#">Villas</a>
                            <a href="#">Commercial properties</a>
                        </div>
                        <div class="mega-column">
                            <h4>Popular areas</h4>
                            <a href="#">Nikol</a>
                            <a href="#">Chandkheda</a>
                            <a href="#">Shela</a>
                            <a href="#">Khanpur</a>
                            <a href="#">Ellisbridge</a>
                            <a href="#">Raikhad</a>
                        </div>
                    </div>
                </li>

                <li class="dropdown">
                    <button class="nav-toggle" aria-expanded="false">Services ▾</button>
                    <div class="mega-menu" aria-hidden="true">
                        <div class="mega-column">
                            <a href="#">Home loans</a>
                            <a href="#">Legal advice</a>
                            <a href="#">Property valuation</a>
                            <a href="#">Broker connections</a>
                        </div>
                    </div>
                </li>

                <li><a href="index.html#post" class="nav-link">Post Property</a></li>
               <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
        </nav>

        <div class="header-actions">
            <a href="post-property.html" class="btn btn-primary">Post Property</a>
        </div>
    </header>

    <main>
        <!-- Page heading -->
        <section class="page-header">
            <div class="container">
                <h1>Plots in Ahmedabad</h1>
                <p>Browse verified plot listings — residential and commercial plots across popular areas</p>
            </div>
        </section>

        <!-- Search & Filter -->
        <section class="search-section">
            <div class="container">
                <div class="search-box">
                    <input id="search-input" type="text" placeholder="Search by location, size, or price...">
                    <button id="search-btn" class="btn btn-primary">Search</button>
                </div>

                <div class="filter-group">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="residential">Residential</button>
                    <button class="filter-btn" data-filter="commercial">Commercial</button>
                </div>
            </div>
        </section>

        <!-- Plots Grid -->
        <section class="section">
            <div class="container">
                <div class="property-grid">

                    <!-- Residential Plots -->
                    <div class="property-card" data-type="residential">
                        <img src="https://source.unsplash.com/800x600/?plot,land" alt="Residential Plot in Nikol">
                        <h3>Residential Plot - Nikol</h3>
                        <p class="location">Nikol, Ahmedabad</p>
                        <p class="price">₹32,00,000</p>
                        <p class="details">500 sq.ft | Plot Land</p>
                        <a href="property.html?id=plot1" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-type="residential">
                        <img src="https://source.unsplash.com/800x600/?plot,development" alt="Residential Plot in Chandkheda">
                        <h3>Residential Plot - Chandkheda</h3>
                        <p class="location">Chandkheda, Ahmedabad</p>
                        <p class="price">₹28,50,000</p>
                        <p class="details">450 sq.ft | Plot Land</p>
                        <a href="property.html?id=plot2" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-type="residential">
                        <img src="https://source.unsplash.com/800x600/?plot,corner" alt="Corner Plot in Gota">
                        <h3>Corner Plot - Gota</h3>
                        <p class="location">Gota, Ahmedabad</p>
                        <p class="price">₹38,00,000</p>
                        <p class="details">600 sq.ft | Corner Plot</p>
                        <a href="property.html?id=plot3" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <!-- Commercial Plots -->
                    <div class="property-card" data-type="commercial">
                        <img src="https://source.unsplash.com/800x600/?commercial,development" alt="Commercial Plot in South Bopal">
                        <h3>Commercial Plot - South Bopal</h3>
                        <p class="location">South Bopal, Ahmedabad</p>
                        <p class="price">₹75,00,000</p>
                        <p class="details">1200 sq.ft | Commercial</p>
                        <a href="property.html?id=plot4" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-type="commercial">
                        <img src="https://source.unsplash.com/800x600/?commercial,plaza" alt="Commercial Plot in Shela">
                        <h3>Commercial Plot - Shela</h3>
                        <p class="location">Shela, Ahmedabad</p>
                        <p class="price">₹68,50,000</p>
                        <p class="details">1100 sq.ft | Commercial</p>
                        <a href="property.html?id=plot5" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-type="commercial">
                        <img src="https://source.unsplash.com/800x600/?commercial,retail" alt="Commercial Plot in Ellisbridge">
                        <h3>Commercial Plot - Ellisbridge</h3>
                        <p class="location">Ellisbridge, Ahmedabad</p>
                        <p class="price">₹85,00,000</p>
                        <p class="details">1500 sq.ft | Commercial</p>
                        <a href="property.html?id=plot6" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <!-- More Residential -->
                    <div class="property-card" data-type="residential">
                        <img src="https://source.unsplash.com/800x600/?plot,residential" alt="Residential Plot in Nikol">
                        <h3>Gated Community Plot - Nikol</h3>
                        <p class="location">Nikol, Ahmedabad</p>
                        <p class="price">₹42,00,000</p>
                        <p class="details">700 sq.ft | Gated Community</p>
                        <a href="property.html?id=plot7" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-type="residential">
                        <img src="https://source.unsplash.com/800x600/?plot,prime" alt="Prime Residential Plot in Shela">
                        <h3>Prime Residential Plot - Shela</h3>
                        <p class="location">Shela, Ahmedabad</p>
                        <p class="price">₹55,00,000</p>
                        <p class="details">850 sq.ft | Prime Location</p>
                        <a href="property.html?id=plot8" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                    <div class="property-card" data-type="commercial">
                        <img src="https://source.unsplash.com/800x600/?commercial,office" alt="Commercial Plot in Khanpur">
                        <h3>Commercial Plot - Khanpur</h3>
                        <p class="location">Khanpur, Ahmedabad</p>
                        <p class="price">₹92,00,000</p>
                        <p class="details">1800 sq.ft | Commercial</p>
                        <a href="property.html?id=plot9" target="_blank" class="btn btn-outline small">View Details</a>
                    </div>

                </div>
                <p id="no-results" style="display:none; text-align:center; color:var(--muted); margin-top:12px;">No plots matched your search or filter.</p>
            </div>
        </section>

        <!-- Why Choose Us -->
        <section class="section grey">
            <div class="container">
                <h2 class="section-title">Why Choose Our Plots?</h2>
                <div class="why-grid">
                    <div class="why-box">
                        <h3>Verified Titles</h3>
                        <p>Every plot has verified legal documentation and clear titles.</p>
                    </div>
                    <div class="why-box">
                        <h3>Investment Potential</h3>
                        <p>Prime locations with excellent growth and appreciation potential.</p>
                    </div>
                    <div class="why-box">
                        <h3>Flexible Options</h3>
                        <p>Residential, commercial, corner plots, and gated community options.</p>
                    </div>
                    <div class="why-box">
                        <h3>Expert Guidance</h3>
                        <p>Our team provides legal and investment guidance for plot purchases.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <small>&copy; <span id="year"></span> Mayra Property Solutions. All rights reserved.</small>
    </footer>

   <script>
    // Set footer year
    (function(){
        var el = document.getElementById('year');
        if(el) el.textContent = new Date().getFullYear();
    })();

    // Mega menu toggles
    (function(){
        var toggles = document.querySelectorAll('.nav-toggle');
        toggles.forEach(function(btn){
            btn.addEventListener('click', function(e){
                var menu = btn.nextElementSibling;
                var expanded = btn.getAttribute('aria-expanded') === 'true';
                btn.setAttribute('aria-expanded', String(!expanded));
                if(menu){
                    var hidden = menu.getAttribute('aria-hidden') === 'true';
                    menu.setAttribute('aria-hidden', String(!hidden));
                    if (window.innerWidth <= 900) {
                        menu.style.display = hidden ? 'flex' : 'none';
                        menu.style.opacity = hidden ? '1' : '0';
                    }
                }
            });
        });
    })();

    // Search & filter functionality for flats
    (function(){
        var input = document.getElementById('search-input');
        var btn = document.getElementById('search-btn');
        var filterBtns = document.querySelectorAll('.filter-btn');
        var cards = Array.from(document.querySelectorAll('.property-card'));
        var noResults = document.getElementById('no-results');
        var currentFilter = 'all';

        function normalize(s){ return String(s||'').toLowerCase().trim(); }

        function runSearchAndFilter(){
            var q = normalize(input.value);
            var matched = 0;

            cards.forEach(function(c){
                var bhk = c.getAttribute('data-bhk');
                var title = normalize(c.querySelector('h3') && c.querySelector('h3').textContent);
                var location = normalize(c.querySelector('.location') && c.querySelector('.location').textContent);
                var price = normalize(c.querySelector('.price') && c.querySelector('.price').textContent);
                var details = normalize(c.querySelector('.details') && c.querySelector('.details').textContent);

                var matchFilter = (currentFilter === 'all') || (bhk === currentFilter);
                var matchSearch = !q || (title.indexOf(q) !== -1 || location.indexOf(q) !== -1 || price.indexOf(q) !== -1 || details.indexOf(q) !== -1);

                if(matchFilter && matchSearch){
                    c.style.display = '';
                    matched++;
                } else {
                    c.style.display = 'none';
                }
            });

            if(noResults) noResults.style.display = (matched === 0) ? 'block' : 'none';
        }

        // Filter buttons
        filterBtns.forEach(function(btn){
            btn.addEventListener('click', function(e){
                e.preventDefault();
                filterBtns.forEach(function(b){ b.classList.remove('active'); });
                btn.classList.add('active');
                currentFilter = btn.getAttribute('data-filter');
                runSearchAndFilter();
            });
        });

        // Search button and Enter key
        if(btn) btn.addEventListener('click', runSearchAndFilter);
        if(input) input.addEventListener('keydown', function(e){
            if(e.key === 'Enter') { e.preventDefault(); runSearchAndFilter(); }
        });
    })();

    /* ⭐⭐⭐ REPLACED FETCH CODE — YOUR FINAL ONE ⭐⭐⭐ */

    fetch("fetch-all-properties.php")
      .then(res => res.json())
      .then(data => {
        let html = "";
        data.forEach(p => {
          if(p.property_type === "plots"){   // Change this to flat/villa/plot per page
              html += `
                <div class="property-card">
                    <img src="${p.image}">
                    <h3>${p.title}</h3>
                    <p class="location">${p.location}</p>
                    <p class="price">${p.price}</p>
                    <p class="details">${p.area} sq.ft | ${p.bhk}</p>
                    <a href="property.html?id=${p.id}" class="btn btn-outline small">View Details</a>
                </div>`;
          }
        });

        document.querySelector(".property-grid").innerHTML = html;
      });

</script>


</body>
</html>
